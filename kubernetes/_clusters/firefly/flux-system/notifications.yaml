apiVersion: v1
kind: Secret
metadata:
    name: slack-bot-token
    namespace: flux-system
stringData:
    address: ENC[AES256_GCM,data:SfgocLH2I+asSWhYJBsstzCfJDke85/EuKtIZUdtYn+ljD58DAU=,iv:qXPTWJ2NFkGFoQV6Apx51kFDPaEPViKP3Va8z+V2G/o=,tag:IgPtJo22FLKjGF17JB4WfA==,type:str]
    token: ENC[AES256_GCM,data:44Z3h1lSCZwmosy7ntG7Y0W66OhRsXohQvE/lgptMZl2CTpKuQvUni7XK89BYHE0a///53+DTPnz,iv:1athvIsNPC1MuTYmdZdyYf4C4toxu1f+sduFIxrAqRs=,tag:3jDEczgKaGEusx8hE/ST5A==,type:str]
sops:
    age:
        - recipient: age1yj3wdeleng98w9rv46yh40ettc78r9k4r4wgnx7ja5zxmyt8qe7snjg0a0
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlc3ZFVTBSQ2c2MGxxQVhM
            VDhTd1F3ZGgva2pLcmUxR21uSmJsbDN3QVRnClJibGx5ZVdub1pxSU1LdFcwTW9v
            SW9MaEhxSnpObjJIbDgxZlJnejVGdEkKLS0tIDF6NHkzUE1wYzVsSk8xOVJhK2d0
            ak5BeUkxZyswZXZ6bWMwQkZTOTVvN2sK7Sqz5dRCexAqTXwdmyMEsdH3DF7vLXct
            GWvapq+hwDTuqSLUq8bdyZW/83UBX7bB0qZAh4jV7iLOcYTKMdCrGw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-01-19T19:46:06Z"
    mac: ENC[AES256_GCM,data:BovhxdxzFYtTHZ0ZhBLboCMbp6WfriiU6/IbjZkZNo07fNDP2JFLIUzsEPUbb/fwkOGAII/SVp77V93rD6ri6fVou1XyrA9vdoLv5uCUFDjLoVkatRsM+gl+k38wu6QmUWk29sw9Qx/OmMAjPuib8u41mwlzoIGmO6A0X88t0w4=,iv:7hyADxeV35jNPRF6CtXoYOCHIMwozpKpFJ0cd8C2TlQ=,tag:sBKvKjqDbJQG1vXB2O1xSg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
---
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Provider
metadata:
    name: slack-success
    namespace: flux-system
spec:
    type: slack
    channel: engineering-info
    secretRef:
        name: slack-bot-token
sops:
    age:
        - recipient: age1yj3wdeleng98w9rv46yh40ettc78r9k4r4wgnx7ja5zxmyt8qe7snjg0a0
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlc3ZFVTBSQ2c2MGxxQVhM
            VDhTd1F3ZGgva2pLcmUxR21uSmJsbDN3QVRnClJibGx5ZVdub1pxSU1LdFcwTW9v
            SW9MaEhxSnpObjJIbDgxZlJnejVGdEkKLS0tIDF6NHkzUE1wYzVsSk8xOVJhK2d0
            ak5BeUkxZyswZXZ6bWMwQkZTOTVvN2sK7Sqz5dRCexAqTXwdmyMEsdH3DF7vLXct
            GWvapq+hwDTuqSLUq8bdyZW/83UBX7bB0qZAh4jV7iLOcYTKMdCrGw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-01-19T19:46:06Z"
    mac: ENC[AES256_GCM,data:BovhxdxzFYtTHZ0ZhBLboCMbp6WfriiU6/IbjZkZNo07fNDP2JFLIUzsEPUbb/fwkOGAII/SVp77V93rD6ri6fVou1XyrA9vdoLv5uCUFDjLoVkatRsM+gl+k38wu6QmUWk29sw9Qx/OmMAjPuib8u41mwlzoIGmO6A0X88t0w4=,iv:7hyADxeV35jNPRF6CtXoYOCHIMwozpKpFJ0cd8C2TlQ=,tag:sBKvKjqDbJQG1vXB2O1xSg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
---
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Provider
metadata:
    name: slack-errors
    namespace: flux-system
spec:
    type: slack
    channel: engineering-alerts
    secretRef:
        name: slack-bot-token
sops:
    age:
        - recipient: age1yj3wdeleng98w9rv46yh40ettc78r9k4r4wgnx7ja5zxmyt8qe7snjg0a0
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlc3ZFVTBSQ2c2MGxxQVhM
            VDhTd1F3ZGgva2pLcmUxR21uSmJsbDN3QVRnClJibGx5ZVdub1pxSU1LdFcwTW9v
            SW9MaEhxSnpObjJIbDgxZlJnejVGdEkKLS0tIDF6NHkzUE1wYzVsSk8xOVJhK2d0
            ak5BeUkxZyswZXZ6bWMwQkZTOTVvN2sK7Sqz5dRCexAqTXwdmyMEsdH3DF7vLXct
            GWvapq+hwDTuqSLUq8bdyZW/83UBX7bB0qZAh4jV7iLOcYTKMdCrGw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-01-19T19:46:06Z"
    mac: ENC[AES256_GCM,data:BovhxdxzFYtTHZ0ZhBLboCMbp6WfriiU6/IbjZkZNo07fNDP2JFLIUzsEPUbb/fwkOGAII/SVp77V93rD6ri6fVou1XyrA9vdoLv5uCUFDjLoVkatRsM+gl+k38wu6QmUWk29sw9Qx/OmMAjPuib8u41mwlzoIGmO6A0X88t0w4=,iv:7hyADxeV35jNPRF6CtXoYOCHIMwozpKpFJ0cd8C2TlQ=,tag:sBKvKjqDbJQG1vXB2O1xSg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
---
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Alert
metadata:
    name: success-notifications
    namespace: flux-system
spec:
    providerRef:
        name: slack-success
    eventSeverity: info
    eventSources:
        - kind: Kustomization
          name: '*'
        - kind: HelmRelease
          name: '*'
    inclusionList:
        - ^Reconciliation finished.*
        - ^Health check passed.*
        - ^Helm install succeeded.*
        - ^Helm upgrade succeeded.*
    suspend: false
sops:
    age:
        - recipient: age1yj3wdeleng98w9rv46yh40ettc78r9k4r4wgnx7ja5zxmyt8qe7snjg0a0
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlc3ZFVTBSQ2c2MGxxQVhM
            VDhTd1F3ZGgva2pLcmUxR21uSmJsbDN3QVRnClJibGx5ZVdub1pxSU1LdFcwTW9v
            SW9MaEhxSnpObjJIbDgxZlJnejVGdEkKLS0tIDF6NHkzUE1wYzVsSk8xOVJhK2d0
            ak5BeUkxZyswZXZ6bWMwQkZTOTVvN2sK7Sqz5dRCexAqTXwdmyMEsdH3DF7vLXct
            GWvapq+hwDTuqSLUq8bdyZW/83UBX7bB0qZAh4jV7iLOcYTKMdCrGw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-01-19T19:46:06Z"
    mac: ENC[AES256_GCM,data:BovhxdxzFYtTHZ0ZhBLboCMbp6WfriiU6/IbjZkZNo07fNDP2JFLIUzsEPUbb/fwkOGAII/SVp77V93rD6ri6fVou1XyrA9vdoLv5uCUFDjLoVkatRsM+gl+k38wu6QmUWk29sw9Qx/OmMAjPuib8u41mwlzoIGmO6A0X88t0w4=,iv:7hyADxeV35jNPRF6CtXoYOCHIMwozpKpFJ0cd8C2TlQ=,tag:sBKvKjqDbJQG1vXB2O1xSg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
---
apiVersion: notification.toolkit.fluxcd.io/v1beta3
kind: Alert
metadata:
    name: error-notifications
    namespace: flux-system
spec:
    providerRef:
        name: slack-errors
    eventSeverity: error
    eventSources:
        - kind: Kustomization
          name: '*'
        - kind: HelmRelease
          name: '*'
    suspend: false
sops:
    age:
        - recipient: age1yj3wdeleng98w9rv46yh40ettc78r9k4r4wgnx7ja5zxmyt8qe7snjg0a0
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBlc3ZFVTBSQ2c2MGxxQVhM
            VDhTd1F3ZGgva2pLcmUxR21uSmJsbDN3QVRnClJibGx5ZVdub1pxSU1LdFcwTW9v
            SW9MaEhxSnpObjJIbDgxZlJnejVGdEkKLS0tIDF6NHkzUE1wYzVsSk8xOVJhK2d0
            ak5BeUkxZyswZXZ6bWMwQkZTOTVvN2sK7Sqz5dRCexAqTXwdmyMEsdH3DF7vLXct
            GWvapq+hwDTuqSLUq8bdyZW/83UBX7bB0qZAh4jV7iLOcYTKMdCrGw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-01-19T19:46:06Z"
    mac: ENC[AES256_GCM,data:BovhxdxzFYtTHZ0ZhBLboCMbp6WfriiU6/IbjZkZNo07fNDP2JFLIUzsEPUbb/fwkOGAII/SVp77V93rD6ri6fVou1XyrA9vdoLv5uCUFDjLoVkatRsM+gl+k38wu6QmUWk29sw9Qx/OmMAjPuib8u41mwlzoIGmO6A0X88t0w4=,iv:7hyADxeV35jNPRF6CtXoYOCHIMwozpKpFJ0cd8C2TlQ=,tag:sBKvKjqDbJQG1vXB2O1xSg==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
